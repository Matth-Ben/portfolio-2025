---
import Layout from '../layouts/Layout.astro';
import RichText from '../components/RichText.astro';
import { fetchAboutData } from '../utils/strapi';

const aboutData = await fetchAboutData();
---

<Layout title="À propos - Portfolio" description="Découvrez mon parcours, mes compétences et ma passion pour le développement web">
  <div class="grid grid-cols-8 md:grid-cols-12 gap">
    <div class="relative col-span-7 md:col-span-11">
      <!-- Mes Compétences -->
      <section class="absolute left-0 top-0 w-full p-[2rem]">
        <div class="text-center">
          {aboutData?.Competences ? (
            <div class="ts-body">
              {aboutData.Competences}
            </div>
          ) : (
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              Aucune compétence disponible
            </div>
          )}
        </div>
      </section>
      
      <!-- Mon Parcours -->
      <section class="flex flex-col items-center justify-center w-full h-dvh">
        <div>
          {aboutData?.Titre ? (
            <div class="text-center">
              <RichText content={aboutData.Titre} tag="h1" class="ts-big" />
            </div>
          ) : (
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6 fade-in">
              Mon Parcours
            </h2>
          )}
        </div>
        <div class="text-center mt-[4rem]">
          {aboutData?.Competences ? (
            <div class="ts-body">
              {aboutData.Competences}
            </div>
          ) : (
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              Aucune compétence disponible
            </div>
          )}
        </div>
      </section>
    
      <section class="absolute left-0 bottom-0 w-full p-[2rem]">
        <div class="grid grid-cols-8 md:grid-cols-11 gap">
          <div class="col-span-8 md:col-span-3">
            {aboutData?.Description ? (
              <div>
                <RichText content={aboutData.Description} class="ts-body" />
              </div>
            ) : (
              <div class="fade-in">
                <p class="text-lg text-gray-600 mb-6">
                  Passionné par la technologie depuis mon plus jeune âge, j'ai commencé mon voyage dans le développement web il y a plusieurs années. 
                  Chaque projet est pour moi une opportunité d'apprendre et de créer quelque chose d'unique.
                </p>
              </div>
            )}
          </div>
        </div>
      </section>
    </div>
  </div>
</Layout>

 