---
import Layout from '../layouts/Layout.astro';
import { fetchHomeData } from '../utils/strapi';
import ProjectCarousel from '../components/ProjectCarousel.astro';

const homeData = await fetchHomeData();

// Récupérer les projets liés à la page Home via la relation
const featuredProjects = homeData?.projects || [];
---

<Layout title="Accueil - Portfolio" description="Bienvenue sur mon portfolio, découvrez mes projets et compétences">
  <!-- Section Projets Récents -->
  <section>
    {featuredProjects.length > 0 ? (
      <ProjectCarousel projects={featuredProjects} />
    ) : (
      <div class="text-center py-12">
        <p class="text-gray-500 text-lg">Aucun projet disponible pour le moment.</p>
        <p class="text-gray-400 text-sm mt-2">Les projets seront affichés ici une fois créés dans Strapi.</p>
      </div>
    )}
  </section>
</Layout> 