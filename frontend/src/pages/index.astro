---
import Layout from '../layouts/Layout.astro';
import { fetchHomeData } from '../utils/strapi';
import ProjectCarousel from '../components/ProjectCarousel.astro';

const homeData = await fetchHomeData();

// Récupérer les projets liés à la page Home via la relation
const featuredProjects = homeData?.projects || [];
---

<Layout title="Accueil - Portfolio" description="Bienvenue sur mon portfolio, découvrez mes projets et compétences">
  <!-- Section Projets Récents -->
  <section>
    <nav class="absolute top-1/2 left-0 right-0 z-10 px-[1rem] md:px-[2rem] -translate-y-full pb-[2rem]">
      <ul class="flex justify-center justify-between w-full text-white">
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
    {featuredProjects.length > 0 ? (
      <ProjectCarousel projects={featuredProjects} />
    ) : (
      <div class="text-center py-12">
        <p class="text-gray-500 text-lg">Aucun projet disponible pour le moment.</p>
        <p class="text-gray-400 text-sm mt-2">Les projets seront affichés ici une fois créés dans Strapi.</p>
      </div>
    )}
  </section>
</Layout> 